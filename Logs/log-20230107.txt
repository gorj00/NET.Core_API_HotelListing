2023-01-07 09:59:42.215 +01:00 [INF] Application Is Starting
2023-01-07 09:59:44.405 +01:00 [INF] User profile is available. Using 'C:\Users\Honza Gorol\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-01-07 09:59:45.127 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-01-07 09:59:45.128 +01:00 [INF] Hosting environment: Development
2023-01-07 09:59:45.129 +01:00 [INF] Content root path: C:\Workspace\NET.Core_API_HotelListing
2023-01-07 09:59:45.196 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/swagger/index.html - -
2023-01-07 09:59:46.408 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/swagger/index.html - - - 200 - text/html;charset=utf-8 1216.7629ms
2023-01-07 09:59:46.445 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/_framework/aspnetcore-browser-refresh.js - -
2023-01-07 09:59:46.447 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/_vs/browserLink - -
2023-01-07 09:59:46.460 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 10.6005ms
2023-01-07 09:59:46.661 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 214.0612ms
2023-01-07 09:59:46.785 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/swagger/v1/swagger.json - -
2023-01-07 09:59:47.107 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 322.1775ms
2023-01-07 10:00:38.274 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44305/api/account/register application/json-patch+json 136
2023-01-07 10:00:38.291 +01:00 [INF] CORS policy execution successful.
2023-01-07 10:00:38.350 +01:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Register (HotelListing)'
2023-01-07 10:00:38.435 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelListing.Models.UserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2023-01-07 10:00:39.181 +01:00 [INF] Registration Attempt for user111@example.com
2023-01-07 10:00:39.218 +01:00 [WRN] User password validation failed: PasswordRequiresUpper.
2023-01-07 10:00:39.230 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.SerializableError'.
2023-01-07 10:00:39.312 +01:00 [INF] Executed action HotelListing.Controllers.AccountController.Register (HotelListing) in 866.7407ms
2023-01-07 10:00:39.314 +01:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Register (HotelListing)'
2023-01-07 10:00:39.318 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44305/api/account/register application/json-patch+json 136 - 400 83 application/json;+charset=utf-8 1044.4662ms
2023-01-07 10:00:50.172 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44305/api/account/register application/json-patch+json 137
2023-01-07 10:00:50.173 +01:00 [INF] CORS policy execution successful.
2023-01-07 10:00:50.177 +01:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Register (HotelListing)'
2023-01-07 10:00:50.177 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelListing.Models.UserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2023-01-07 10:00:50.185 +01:00 [INF] Registration Attempt for user111@example.com
2023-01-07 10:00:51.666 +01:00 [INF] Entity Framework Core 5.0.14 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2023-01-07 10:00:52.895 +01:00 [INF] Executed DbCommand (116ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-01-07 10:00:52.969 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-01-07 10:00:53.288 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2023-01-07 10:00:53.348 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-01-07 10:00:53.426 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2023-01-07 10:00:53.438 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-01-07 10:00:53.460 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-01-07 10:00:53.468 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-01-07 10:00:53.508 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2023-01-07 10:00:53.532 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p17='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
SELECT @@ROWCOUNT;
2023-01-07 10:00:53.544 +01:00 [INF] Executing AcceptedResult, writing value of type 'null'.
2023-01-07 10:00:53.546 +01:00 [INF] Executed action HotelListing.Controllers.AccountController.Register (HotelListing) in 3368.5872ms
2023-01-07 10:00:53.548 +01:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Register (HotelListing)'
2023-01-07 10:00:53.557 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44305/api/account/register application/json-patch+json 137 - 202 0 - 3384.7296ms
2023-01-07 10:01:13.891 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44305/api/account/login application/json-patch+json 56
2023-01-07 10:01:13.892 +01:00 [INF] CORS policy execution successful.
2023-01-07 10:01:13.892 +01:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2023-01-07 10:01:13.903 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2023-01-07 10:01:13.929 +01:00 [INF] Login Attempt for user111@example.com
2023-01-07 10:01:13.976 +01:00 [INF] Entity Framework Core 5.0.14 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2023-01-07 10:01:13.979 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-01-07 10:01:14.556 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-01-07 10:01:15.000 +01:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-01-07 10:01:15.012 +01:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 1108.4147ms
2023-01-07 10:01:15.012 +01:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2023-01-07 10:01:15.013 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44305/api/account/login application/json-patch+json 56 - 202 321 application/json;+charset=utf-8 1122.5896ms
2023-01-07 10:20:57.484 +01:00 [INF] Application Is Starting
2023-01-07 10:20:57.899 +01:00 [INF] User profile is available. Using 'C:\Users\Honza Gorol\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-01-07 10:20:58.196 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-01-07 10:20:58.196 +01:00 [INF] Hosting environment: Development
2023-01-07 10:20:58.197 +01:00 [INF] Content root path: C:\Workspace\NET.Core_API_HotelListing
2023-01-07 10:20:58.238 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/swagger/index.html - -
2023-01-07 10:20:58.698 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/swagger/index.html - - - 200 - text/html;charset=utf-8 466.6653ms
2023-01-07 10:20:58.737 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/_framework/aspnetcore-browser-refresh.js - -
2023-01-07 10:20:58.737 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/_vs/browserLink - -
2023-01-07 10:20:58.761 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 15.5749ms
2023-01-07 10:20:58.819 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 81.2520ms
2023-01-07 10:20:59.101 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/swagger/v1/swagger.json - -
2023-01-07 10:20:59.309 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 208.1043ms
2023-01-07 10:21:34.398 +01:00 [INF] Application Is Starting
2023-01-07 10:21:34.984 +01:00 [INF] User profile is available. Using 'C:\Users\Honza Gorol\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-01-07 10:21:35.304 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-01-07 10:21:35.305 +01:00 [INF] Hosting environment: Development
2023-01-07 10:21:35.305 +01:00 [INF] Content root path: C:\Workspace\NET.Core_API_HotelListing
2023-01-07 10:21:35.344 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/swagger/index.html - -
2023-01-07 10:21:35.344 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/swagger/index.html - -
2023-01-07 10:21:35.726 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/swagger/index.html - - - 200 - text/html;charset=utf-8 385.3921ms
2023-01-07 10:21:35.733 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/swagger/index.html - - - 200 - text/html;charset=utf-8 394.6645ms
2023-01-07 10:21:35.779 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/_vs/browserLink - -
2023-01-07 10:21:35.779 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/_framework/aspnetcore-browser-refresh.js - -
2023-01-07 10:21:35.798 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 14.5285ms
2023-01-07 10:21:35.860 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 81.3695ms
2023-01-07 10:21:35.978 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/swagger/v1/swagger.json - -
2023-01-07 10:21:36.135 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 157.2059ms
2023-01-07 10:22:03.516 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/api/country/1 - -
2023-01-07 10:22:03.573 +01:00 [INF] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'
2023-01-07 10:22:03.634 +01:00 [INF] Route matched with {action = "GetCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountry(Int32) on controller HotelListing.Controllers.CountryController (HotelListing).
2023-01-07 10:22:05.738 +01:00 [INF] Entity Framework Core 5.0.14 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2023-01-07 10:22:07.196 +01:00 [INF] Executed DbCommand (117ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[ShortName], [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
    FROM [Countries] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[Id] = [h].[CountryId]
ORDER BY [t].[Id], [h].[Id]
2023-01-07 10:22:07.370 +01:00 [INF] Executing OkObjectResult, writing value of type 'HotelListing.Models.CountryDTO'.
2023-01-07 10:22:07.606 +01:00 [INF] Executed action HotelListing.Controllers.CountryController.GetCountry (HotelListing) in 3960.0784ms
2023-01-07 10:22:07.607 +01:00 [INF] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'
2023-01-07 10:22:07.617 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/api/country/1 - - - 200 138 application/json;+charset=utf-8 4100.2644ms
2023-01-07 10:22:33.390 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/api/hotel/1 - -
2023-01-07 10:22:33.412 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-01-07 10:22:33.774 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-01-07 10:22:33.776 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/api/hotel/1 - - - 401 - - 386.6672ms
2023-01-07 10:23:25.173 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44305/api/account/login application/json-patch+json 56
2023-01-07 10:23:25.182 +01:00 [INF] CORS policy execution successful.
2023-01-07 10:23:25.185 +01:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2023-01-07 10:23:25.199 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2023-01-07 10:23:25.355 +01:00 [INF] Login Attempt for user111@example.com
2023-01-07 10:23:25.528 +01:00 [INF] Entity Framework Core 5.0.14 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2023-01-07 10:23:25.585 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-01-07 10:23:25.799 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-01-07 10:23:25.979 +01:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-01-07 10:23:25.989 +01:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 788.4904ms
2023-01-07 10:23:25.989 +01:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2023-01-07 10:23:25.992 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44305/api/account/login application/json-patch+json 56 - 202 321 application/json;+charset=utf-8 819.0199ms
2023-01-07 10:24:46.705 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/api/hotel - -
2023-01-07 10:24:46.706 +01:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2023-01-07 10:24:46.716 +01:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).
2023-01-07 10:24:46.740 +01:00 [INF] Entity Framework Core 5.0.14 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2023-01-07 10:24:46.759 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
2023-01-07 10:24:46.766 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-01-07 10:24:46.767 +01:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 50.3783ms
2023-01-07 10:24:46.767 +01:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2023-01-07 10:24:46.768 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/api/hotel - - - 200 327 application/json;+charset=utf-8 63.0709ms
2023-01-07 10:25:02.190 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44305/api/hotel - -
2023-01-07 10:25:02.190 +01:00 [INF] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2023-01-07 10:25:02.191 +01:00 [INF] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).
2023-01-07 10:25:02.196 +01:00 [INF] Entity Framework Core 5.0.14 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2023-01-07 10:25:02.200 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
2023-01-07 10:25:02.201 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-01-07 10:25:02.202 +01:00 [INF] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 10.502ms
2023-01-07 10:25:02.202 +01:00 [INF] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'
2023-01-07 10:25:02.202 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44305/api/hotel - - - 200 327 application/json;+charset=utf-8 12.5892ms
2023-01-07 10:25:17.983 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44305/api/hotel/1 - -
2023-01-07 10:25:17.985 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-01-07 10:25:17.986 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-01-07 10:25:17.987 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44305/api/hotel/1 - - - 401 - - 3.8440ms
2023-01-07 10:26:16.442 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44305/api/hotel/1 - -
2023-01-07 10:26:16.443 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-01-07 10:26:16.532 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-01-07 10:26:16.598 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-01-07 10:26:16.600 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44305/api/hotel/1 - - - 401 - - 158.1523ms
2023-01-07 10:27:04.851 +01:00 [INF] Application Is Starting
2023-01-07 10:27:05.270 +01:00 [INF] User profile is available. Using 'C:\Users\Honza Gorol\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-01-07 10:27:05.495 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-01-07 10:27:05.495 +01:00 [INF] Hosting environment: Development
2023-01-07 10:27:05.495 +01:00 [INF] Content root path: C:\Workspace\NET.Core_API_HotelListing
2023-01-07 10:27:05.527 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/swagger/index.html - -
2023-01-07 10:27:05.914 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/swagger/index.html - - - 200 - text/html;charset=utf-8 388.5090ms
2023-01-07 10:27:05.958 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/_framework/aspnetcore-browser-refresh.js - -
2023-01-07 10:27:05.958 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/_vs/browserLink - -
2023-01-07 10:27:05.974 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 11.2873ms
2023-01-07 10:27:06.049 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 90.6322ms
2023-01-07 10:27:06.187 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/swagger/v1/swagger.json - -
2023-01-07 10:27:06.321 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 134.0016ms
2023-01-07 10:27:30.331 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44305/api/hotel/1 - -
2023-01-07 10:27:30.643 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-01-07 10:27:30.688 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2023-01-07 10:27:30.697 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-01-07 10:27:30.719 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-01-07 10:27:30.723 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44305/api/hotel/1 - - - 401 - - 390.8810ms
2023-01-07 10:28:03.214 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44305/api/account/login application/json-patch+json 56
2023-01-07 10:28:03.231 +01:00 [INF] CORS policy execution successful.
2023-01-07 10:28:03.240 +01:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2023-01-07 10:28:03.298 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2023-01-07 10:28:03.983 +01:00 [INF] Login Attempt for user111@example.com
2023-01-07 10:28:05.437 +01:00 [INF] Entity Framework Core 5.0.14 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2023-01-07 10:28:06.573 +01:00 [INF] Executed DbCommand (140ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-01-07 10:28:06.955 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-01-07 10:28:07.037 +01:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-01-07 10:28:07.134 +01:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 3823.9803ms
2023-01-07 10:28:07.136 +01:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2023-01-07 10:28:07.145 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44305/api/account/login application/json-patch+json 56 - 202 321 application/json;+charset=utf-8 3931.2825ms
2023-01-07 10:28:32.929 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44305/api/hotel/1 - -
2023-01-07 10:28:32.933 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-01-07 10:28:32.935 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2023-01-07 10:28:32.937 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-01-07 10:28:32.939 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-01-07 10:28:32.940 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44305/api/hotel/1 - - - 401 - - 11.4106ms
2023-01-07 10:28:40.469 +01:00 [INF] Application Is Starting
2023-01-07 10:28:40.981 +01:00 [INF] User profile is available. Using 'C:\Users\Honza Gorol\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-01-07 10:28:41.299 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-01-07 10:28:41.300 +01:00 [INF] Hosting environment: Development
2023-01-07 10:28:41.300 +01:00 [INF] Content root path: C:\Workspace\NET.Core_API_HotelListing
2023-01-07 10:28:41.349 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/swagger/index.html - -
2023-01-07 10:28:41.349 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/swagger/index.html - -
2023-01-07 10:28:41.824 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/swagger/index.html - - - 200 - text/html;charset=utf-8 481.7355ms
2023-01-07 10:28:41.835 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/swagger/index.html - - - 200 - text/html;charset=utf-8 493.4827ms
2023-01-07 10:28:41.866 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/_framework/aspnetcore-browser-refresh.js - -
2023-01-07 10:28:41.866 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/_vs/browserLink - -
2023-01-07 10:28:41.881 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 10.4396ms
2023-01-07 10:28:41.965 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 99.1376ms
2023-01-07 10:28:42.110 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/swagger/v1/swagger.json - -
2023-01-07 10:28:42.352 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 240.8099ms
2023-01-07 10:28:46.212 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44305/api/hotel/1 - -
2023-01-07 10:28:46.554 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-01-07 10:28:46.607 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2023-01-07 10:28:46.619 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-01-07 10:28:46.633 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-01-07 10:28:46.637 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44305/api/hotel/1 - - - 401 - - 424.8421ms
2023-01-07 10:30:03.176 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44305/api/hotel/1 - -
2023-01-07 10:30:03.183 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-01-07 10:30:03.183 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2023-01-07 10:30:03.184 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-01-07 10:30:03.185 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-01-07 10:30:03.186 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44305/api/hotel/1 - - - 401 - - 10.1017ms
2023-01-07 10:30:46.284 +01:00 [INF] Application Is Starting
2023-01-07 10:30:46.911 +01:00 [INF] User profile is available. Using 'C:\Users\Honza Gorol\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-01-07 10:30:47.231 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-01-07 10:30:47.232 +01:00 [INF] Hosting environment: Development
2023-01-07 10:30:47.232 +01:00 [INF] Content root path: C:\Workspace\NET.Core_API_HotelListing
2023-01-07 10:30:47.269 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/swagger/index.html - -
2023-01-07 10:30:47.644 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/swagger/index.html - - - 200 - text/html;charset=utf-8 378.9389ms
2023-01-07 10:30:47.670 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/_framework/aspnetcore-browser-refresh.js - -
2023-01-07 10:30:47.670 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/_vs/browserLink - -
2023-01-07 10:30:47.681 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 7.3609ms
2023-01-07 10:30:47.745 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 74.7674ms
2023-01-07 10:30:47.877 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/swagger/v1/swagger.json - -
2023-01-07 10:30:48.108 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 230.8883ms
2023-01-07 10:30:55.969 +01:00 [INF] Application Is Starting
2023-01-07 10:30:56.573 +01:00 [INF] User profile is available. Using 'C:\Users\Honza Gorol\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-01-07 10:30:56.949 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-01-07 10:30:56.949 +01:00 [INF] Hosting environment: Development
2023-01-07 10:30:56.949 +01:00 [INF] Content root path: C:\Workspace\NET.Core_API_HotelListing
2023-01-07 10:30:56.991 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/swagger/index.html - -
2023-01-07 10:30:57.398 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/swagger/index.html - - - 200 - text/html;charset=utf-8 413.2236ms
2023-01-07 10:30:57.433 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/_vs/browserLink - -
2023-01-07 10:30:57.433 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/_framework/aspnetcore-browser-refresh.js - -
2023-01-07 10:30:57.449 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 11.5592ms
2023-01-07 10:30:57.517 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 83.9383ms
2023-01-07 10:30:57.626 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/swagger/v1/swagger.json - -
2023-01-07 10:30:57.835 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 208.7289ms
2023-01-07 10:31:01.897 +01:00 [INF] Application Is Starting
2023-01-07 10:31:02.546 +01:00 [INF] User profile is available. Using 'C:\Users\Honza Gorol\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-01-07 10:31:02.850 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-01-07 10:31:02.850 +01:00 [INF] Hosting environment: Development
2023-01-07 10:31:02.850 +01:00 [INF] Content root path: C:\Workspace\NET.Core_API_HotelListing
2023-01-07 10:31:02.891 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/swagger/index.html - -
2023-01-07 10:31:03.273 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/swagger/index.html - - - 200 - text/html;charset=utf-8 387.7605ms
2023-01-07 10:31:03.304 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/_vs/browserLink - -
2023-01-07 10:31:03.304 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/_framework/aspnetcore-browser-refresh.js - -
2023-01-07 10:31:03.319 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 9.4277ms
2023-01-07 10:31:03.383 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 78.9629ms
2023-01-07 10:31:03.501 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/swagger/v1/swagger.json - -
2023-01-07 10:31:03.787 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 285.7910ms
2023-01-07 10:31:16.851 +01:00 [INF] Application Is Starting
2023-01-07 10:31:17.467 +01:00 [INF] User profile is available. Using 'C:\Users\Honza Gorol\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-01-07 10:31:17.836 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-01-07 10:31:17.836 +01:00 [INF] Hosting environment: Development
2023-01-07 10:31:17.836 +01:00 [INF] Content root path: C:\Workspace\NET.Core_API_HotelListing
2023-01-07 10:31:17.881 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/swagger/index.html - -
2023-01-07 10:31:17.881 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/swagger/index.html - -
2023-01-07 10:31:18.236 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/swagger/index.html - - - 200 - text/html;charset=utf-8 360.6240ms
2023-01-07 10:31:18.243 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/swagger/index.html - - - 200 - text/html;charset=utf-8 368.4677ms
2023-01-07 10:31:18.267 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/_vs/browserLink - -
2023-01-07 10:31:18.267 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/_framework/aspnetcore-browser-refresh.js - -
2023-01-07 10:31:18.280 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 8.6286ms
2023-01-07 10:31:18.346 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 79.2426ms
2023-01-07 10:31:18.463 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/swagger/v1/swagger.json - -
2023-01-07 10:31:18.759 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 295.5582ms
2023-01-07 10:31:36.539 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44305/api/account/login application/json-patch+json 56
2023-01-07 10:31:36.557 +01:00 [INF] CORS policy execution successful.
2023-01-07 10:31:36.682 +01:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2023-01-07 10:31:36.750 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2023-01-07 10:31:37.393 +01:00 [INF] Login Attempt for user111@example.com
2023-01-07 10:31:38.782 +01:00 [INF] Entity Framework Core 5.0.14 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2023-01-07 10:31:40.183 +01:00 [INF] Executed DbCommand (122ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-01-07 10:31:40.574 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-01-07 10:31:40.779 +01:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-01-07 10:31:40.878 +01:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 4112.3824ms
2023-01-07 10:31:40.879 +01:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2023-01-07 10:31:40.890 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44305/api/account/login application/json-patch+json 56 - 202 228 application/json;+charset=utf-8 4350.5664ms
2023-01-07 10:32:03.071 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44305/api/hotel/1 - -
2023-01-07 10:32:03.194 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-01-07 10:32:03.230 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2023-01-07 10:32:03.241 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-01-07 10:32:03.259 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-01-07 10:32:03.264 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44305/api/hotel/1 - - - 401 - - 192.3185ms
2023-01-07 10:32:17.944 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/api/hotel/1 - -
2023-01-07 10:32:17.951 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-01-07 10:32:17.953 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-01-07 10:32:17.956 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/api/hotel/1 - - - 401 - - 10.8941ms
2023-01-07 10:32:37.015 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44305/api/hotel/1 - -
2023-01-07 10:32:37.018 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-01-07 10:32:37.020 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2023-01-07 10:32:37.022 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-01-07 10:32:37.023 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-01-07 10:32:37.025 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44305/api/hotel/1 - - - 401 - - 10.1526ms
2023-01-07 10:41:59.453 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44305/api/account/register application/json-patch+json 147
2023-01-07 10:41:59.454 +01:00 [INF] CORS policy execution successful.
2023-01-07 10:41:59.457 +01:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Register (HotelListing)'
2023-01-07 10:41:59.472 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelListing.Models.UserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2023-01-07 10:41:59.506 +01:00 [INF] Registration Attempt for user2222@example.com
2023-01-07 10:41:59.585 +01:00 [INF] Entity Framework Core 5.0.14 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2023-01-07 10:41:59.736 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-01-07 10:41:59.765 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-01-07 10:42:00.044 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2023-01-07 10:42:00.119 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-01-07 10:42:00.167 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2023-01-07 10:42:00.175 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2023-01-07 10:42:00.206 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-01-07 10:42:00.210 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2023-01-07 10:42:00.252 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2023-01-07 10:42:00.270 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p17='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
SELECT @@ROWCOUNT;
2023-01-07 10:42:00.279 +01:00 [INF] Executing AcceptedResult, writing value of type 'null'.
2023-01-07 10:42:00.280 +01:00 [INF] Executed action HotelListing.Controllers.AccountController.Register (HotelListing) in 806.6075ms
2023-01-07 10:42:00.280 +01:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Register (HotelListing)'
2023-01-07 10:42:00.281 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44305/api/account/register application/json-patch+json 147 - 202 0 - 828.2786ms
2023-01-07 10:42:21.673 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44305/api/account/login application/json-patch+json 56
2023-01-07 10:42:21.674 +01:00 [INF] CORS policy execution successful.
2023-01-07 10:42:21.674 +01:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2023-01-07 10:42:21.674 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2023-01-07 10:42:21.697 +01:00 [INF] Login Attempt for user222@example.com
2023-01-07 10:42:21.715 +01:00 [INF] Entity Framework Core 5.0.14 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2023-01-07 10:42:21.725 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-01-07 10:42:21.734 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-01-07 10:42:21.762 +01:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 87.2243ms
2023-01-07 10:42:21.762 +01:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2023-01-07 10:42:21.763 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44305/api/account/login application/json-patch+json 56 - 401 162 application/problem+json;+charset=utf-8 89.1230ms
2023-01-07 10:42:46.304 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44305/api/account/login application/json-patch+json 56
2023-01-07 10:42:46.305 +01:00 [INF] CORS policy execution successful.
2023-01-07 10:42:46.306 +01:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2023-01-07 10:42:46.306 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2023-01-07 10:42:46.307 +01:00 [INF] Login Attempt for user222@example.com
2023-01-07 10:42:46.308 +01:00 [INF] Entity Framework Core 5.0.14 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2023-01-07 10:42:46.347 +01:00 [INF] Executed DbCommand (38ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-01-07 10:42:46.349 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-01-07 10:42:46.350 +01:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 43.2428ms
2023-01-07 10:42:46.350 +01:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2023-01-07 10:42:46.351 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44305/api/account/login application/json-patch+json 56 - 401 162 application/problem+json;+charset=utf-8 47.4136ms
2023-01-07 10:43:17.670 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44305/api/account/login application/json-patch+json 56
2023-01-07 10:43:17.670 +01:00 [INF] CORS policy execution successful.
2023-01-07 10:43:17.671 +01:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2023-01-07 10:43:17.671 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2023-01-07 10:43:17.673 +01:00 [INF] Login Attempt for user222@example.com
2023-01-07 10:43:17.674 +01:00 [INF] Entity Framework Core 5.0.14 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2023-01-07 10:43:17.691 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-01-07 10:43:17.692 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-01-07 10:43:17.693 +01:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 21.7957ms
2023-01-07 10:43:17.694 +01:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2023-01-07 10:43:17.696 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44305/api/account/login application/json-patch+json 56 - 401 162 application/problem+json;+charset=utf-8 24.9511ms
2023-01-07 10:43:49.966 +01:00 [INF] Application Is Starting
2023-01-07 10:43:50.453 +01:00 [INF] User profile is available. Using 'C:\Users\Honza Gorol\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-01-07 10:43:50.750 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-01-07 10:43:50.750 +01:00 [INF] Hosting environment: Development
2023-01-07 10:43:50.750 +01:00 [INF] Content root path: C:\Workspace\NET.Core_API_HotelListing
2023-01-07 10:43:50.786 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/swagger/index.html - -
2023-01-07 10:43:51.254 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/swagger/index.html - - - 200 - text/html;charset=utf-8 471.9536ms
2023-01-07 10:43:51.288 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/_vs/browserLink - -
2023-01-07 10:43:51.288 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/_framework/aspnetcore-browser-refresh.js - -
2023-01-07 10:43:51.308 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 13.9986ms
2023-01-07 10:43:51.376 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 87.7485ms
2023-01-07 10:43:51.629 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/swagger/v1/swagger.json - -
2023-01-07 10:43:51.848 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 218.9758ms
2023-01-07 10:44:08.874 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44305/api/account/login application/json-patch+json 57
2023-01-07 10:44:08.889 +01:00 [INF] CORS policy execution successful.
2023-01-07 10:44:08.990 +01:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2023-01-07 10:44:09.052 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2023-01-07 10:44:09.723 +01:00 [INF] Login Attempt for user2222@example.com
2023-01-07 10:44:11.261 +01:00 [INF] Entity Framework Core 5.0.14 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2023-01-07 10:44:12.611 +01:00 [INF] Executed DbCommand (129ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-01-07 10:44:12.998 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-01-07 10:44:13.228 +01:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-01-07 10:44:13.332 +01:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 4271.5416ms
2023-01-07 10:44:13.333 +01:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2023-01-07 10:44:13.342 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44305/api/account/login application/json-patch+json 57 - 202 335 application/json;+charset=utf-8 4468.8256ms
2023-01-07 10:44:49.058 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44305/api/hotel/1 - -
2023-01-07 10:44:49.141 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-01-07 10:44:49.167 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2023-01-07 10:44:49.173 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-01-07 10:44:49.185 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-01-07 10:44:49.187 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44305/api/hotel/1 - - - 401 - - 128.9786ms
2023-01-07 10:44:56.095 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44305/api/hotel/1 - -
2023-01-07 10:44:56.101 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-01-07 10:44:56.102 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2023-01-07 10:44:56.104 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-01-07 10:44:56.105 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-01-07 10:44:56.106 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44305/api/hotel/1 - - - 401 - - 11.6915ms
2023-01-07 10:57:35.276 +01:00 [INF] Application Is Starting
2023-01-07 10:57:35.750 +01:00 [INF] User profile is available. Using 'C:\Users\Honza Gorol\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-01-07 10:57:36.068 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-01-07 10:57:36.068 +01:00 [INF] Hosting environment: Development
2023-01-07 10:57:36.068 +01:00 [INF] Content root path: C:\Workspace\NET.Core_API_HotelListing
2023-01-07 10:57:36.096 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/swagger/index.html - -
2023-01-07 10:57:36.478 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/swagger/index.html - - - 200 - text/html;charset=utf-8 383.7145ms
2023-01-07 10:57:36.506 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/_framework/aspnetcore-browser-refresh.js - -
2023-01-07 10:57:36.506 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/_vs/browserLink - -
2023-01-07 10:57:36.521 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 10.4461ms
2023-01-07 10:57:36.585 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 79.3197ms
2023-01-07 10:57:36.661 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/swagger/v1/swagger.json - -
2023-01-07 10:57:36.884 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 222.5697ms
2023-01-07 10:57:55.049 +01:00 [INF] Application Is Starting
2023-01-07 10:57:55.529 +01:00 [INF] User profile is available. Using 'C:\Users\Honza Gorol\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2023-01-07 10:57:55.902 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2023-01-07 10:57:55.903 +01:00 [INF] Hosting environment: Development
2023-01-07 10:57:55.903 +01:00 [INF] Content root path: C:\Workspace\NET.Core_API_HotelListing
2023-01-07 10:57:55.955 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/swagger/index.html - -
2023-01-07 10:57:55.956 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/swagger/index.html - -
2023-01-07 10:57:56.410 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/swagger/index.html - - - 200 - text/html;charset=utf-8 460.3842ms
2023-01-07 10:57:56.425 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/swagger/index.html - - - 200 - text/html;charset=utf-8 477.6068ms
2023-01-07 10:57:56.452 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/_vs/browserLink - -
2023-01-07 10:57:56.452 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/_framework/aspnetcore-browser-refresh.js - -
2023-01-07 10:57:56.473 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 14.3252ms
2023-01-07 10:57:56.534 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 82.2294ms
2023-01-07 10:57:56.674 +01:00 [INF] Request starting HTTP/2 GET https://localhost:44305/swagger/v1/swagger.json - -
2023-01-07 10:57:56.872 +01:00 [INF] Request finished HTTP/2 GET https://localhost:44305/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 197.4990ms
2023-01-07 10:58:28.521 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44305/api/account/login application/json-patch+json 56
2023-01-07 10:58:28.548 +01:00 [INF] CORS policy execution successful.
2023-01-07 10:58:28.654 +01:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2023-01-07 10:58:28.712 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2023-01-07 10:58:29.426 +01:00 [INF] Login Attempt for user222@example.com
2023-01-07 10:58:30.989 +01:00 [INF] Entity Framework Core 5.0.14 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2023-01-07 10:58:32.300 +01:00 [INF] Executed DbCommand (128ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-01-07 10:58:32.377 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-01-07 10:58:32.501 +01:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 3776.7372ms
2023-01-07 10:58:32.503 +01:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2023-01-07 10:58:32.515 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44305/api/account/login application/json-patch+json 56 - 401 162 application/problem+json;+charset=utf-8 3993.6384ms
2023-01-07 10:59:03.194 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44305/api/account/login application/json-patch+json 55
2023-01-07 10:59:03.195 +01:00 [INF] CORS policy execution successful.
2023-01-07 10:59:03.202 +01:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2023-01-07 10:59:03.203 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2023-01-07 10:59:03.210 +01:00 [INF] Login Attempt for user111@example.com
2023-01-07 10:59:03.273 +01:00 [INF] Entity Framework Core 5.0.14 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2023-01-07 10:59:03.291 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-01-07 10:59:03.479 +01:00 [WRN] Invalid password for user.
2023-01-07 10:59:03.480 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-01-07 10:59:03.482 +01:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 278.4689ms
2023-01-07 10:59:03.482 +01:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2023-01-07 10:59:03.483 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44305/api/account/login application/json-patch+json 55 - 401 162 application/problem+json;+charset=utf-8 289.3130ms
2023-01-07 10:59:07.326 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44305/api/account/login application/json-patch+json 55
2023-01-07 10:59:07.327 +01:00 [INF] CORS policy execution successful.
2023-01-07 10:59:07.333 +01:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2023-01-07 10:59:07.337 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2023-01-07 10:59:07.359 +01:00 [INF] Login Attempt for user111@example.com
2023-01-07 10:59:07.377 +01:00 [INF] Entity Framework Core 5.0.14 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2023-01-07 10:59:07.382 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-01-07 10:59:07.387 +01:00 [WRN] Invalid password for user.
2023-01-07 10:59:07.387 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-01-07 10:59:07.388 +01:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 50.0126ms
2023-01-07 10:59:07.388 +01:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2023-01-07 10:59:07.388 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44305/api/account/login application/json-patch+json 55 - 401 162 application/problem+json;+charset=utf-8 62.2583ms
2023-01-07 11:01:14.516 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44305/api/account/login application/json-patch+json 55
2023-01-07 11:01:14.516 +01:00 [INF] CORS policy execution successful.
2023-01-07 11:01:14.516 +01:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2023-01-07 11:01:14.517 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2023-01-07 11:01:14.518 +01:00 [INF] Login Attempt for user111@example.com
2023-01-07 11:01:14.519 +01:00 [INF] Entity Framework Core 5.0.14 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2023-01-07 11:01:14.546 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-01-07 11:01:14.550 +01:00 [WRN] Invalid password for user.
2023-01-07 11:01:14.551 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-01-07 11:01:14.551 +01:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 34.1353ms
2023-01-07 11:01:14.552 +01:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2023-01-07 11:01:14.552 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44305/api/account/login application/json-patch+json 55 - 401 162 application/problem+json;+charset=utf-8 36.9210ms
2023-01-07 11:01:32.135 +01:00 [INF] Request starting HTTP/2 POST https://localhost:44305/api/account/login application/json-patch+json 56
2023-01-07 11:01:32.136 +01:00 [INF] CORS policy execution successful.
2023-01-07 11:01:32.137 +01:00 [INF] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2023-01-07 11:01:32.138 +01:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).
2023-01-07 11:01:32.139 +01:00 [INF] Login Attempt for user111@example.com
2023-01-07 11:01:32.140 +01:00 [INF] Entity Framework Core 5.0.14 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2023-01-07 11:01:32.150 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2023-01-07 11:01:32.278 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2023-01-07 11:01:32.435 +01:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-01-07 11:01:32.440 +01:00 [INF] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 302.6191ms
2023-01-07 11:01:32.441 +01:00 [INF] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'
2023-01-07 11:01:32.442 +01:00 [INF] Request finished HTTP/2 POST https://localhost:44305/api/account/login application/json-patch+json 56 - 202 260 application/json;+charset=utf-8 306.7151ms
2023-01-07 11:01:52.553 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44305/api/hotel/1 - -
2023-01-07 11:01:52.635 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-01-07 11:01:52.663 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2023-01-07 11:01:52.668 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-01-07 11:01:52.678 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-01-07 11:01:52.680 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44305/api/hotel/1 - - - 401 - - 127.3332ms
2023-01-07 11:02:04.479 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:44305/api/hotel/1 - -
2023-01-07 11:02:04.482 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2023-01-07 11:02:04.483 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
2023-01-07 11:02:04.484 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-01-07 11:02:04.484 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-01-07 11:02:04.486 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:44305/api/hotel/1 - - - 401 - - 7.0774ms
